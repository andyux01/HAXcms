import{html as e,css as t,LitElement as r}from"../../../lit-element/lit-element.js";class LetterGrade extends r{constructor(){super(),this.pointsSystem="pts",this.score=null,this.total=null,this.gradeScale=[],this._letterIndex=null,this.letter="",this.showScale=!1}static get styles(){return[t`
        :host {
          display: block;
        }
        :host([letter="F"]) {
          --letter-grade-default-letter-background-color: #ff4444;
        }
        :host([letter="D"]) {
          --letter-grade-default-letter-background-color: #ff7744;
        }
        :host([letter="C"]),
        :host([letter="C+"]) {
          --letter-grade-default-letter-background-color: #ffff00;
        }
        :host([letter="B"]),
        :host([letter="B-"]) {
          --letter-grade-default-letter-background-color: #ffff66;
        }
        :host([letter="B+"]),
        :host([letter="A-"]) {
          --letter-grade-default-letter-background-color: #aaffaa;
        }
        :host([letter="A"]) {
          --letter-grade-default-letter-background-color: #55ff55;
        }
        :host([show-scale]) .wrap {
          height: var(--letter-grade-wrap-height, 64px);
          width: var(--letter-grade-wrap-width, 64px);
        }
        .wrap {
          height: var(--letter-grade-wrap-height, 40px);
          width: var(--letter-grade-wrap-width, 40px);
          padding: var(--letter-grade-wrap-padding, 16px);
          border: var(--letter-grade-wrap-border, 4px solid black);
          border-radius: 50%;
          box-shadow: rgb(0 0 0 / 20%) 0px 5px 5px 0px;
          text-align: center;
          justify-content: center;
          vertical-align: middle;
          background-color: var(
            --letter-grade-wrap-background-color,
            var(--letter-grade-default-letter-background-color, transparent)
          );
        }
        .letter {
          font-weight: var(--letter-grade-letter-font-weight, bold);
          font-size: var(--letter-grade-letter-font-size, 40px);
          line-height: var(
            --letter-grade-letter-line-height,
            var(--letter-grade-letter-font-size, 40px)
          );
          letter-spacing: -2px;
        }
        .score,
        .range {
          font-weight: var(--letter-grade-range-font-weight, normal);
          font-size: var(--letter-grade-range-font-size, 12px);
        }
      `]}render(){return e`
      <div class="wrap">
        <div class="letter">${this.letter}</div>
        ${this.showScale&&null!==this._letterIndex?e`<div class="score">
              (${this.score}/${this.total} ${this.pointsSystem})
            </div>`:""}
        ${this.showScale&&null!==this._letterIndex?e`<div class="range">
              ${this.gradeScale[this._letterIndex].lowRange}% -
              ${this.gradeScale[this._letterIndex].highRange}%
            </div>`:""}
      </div>
    `}static get properties(){return{score:{type:Number},total:{type:Number},pointsSystem:{type:String,attribute:"points-system"},gradeScale:{type:Array,attribute:"grade-scale"},letter:{type:String,reflect:!0},showScale:{type:Boolean,reflect:!0,attribute:"show-scale"}}}static get tag(){return"letter-grade"}updated(e){e.forEach((e,t)=>{["total","score","gradeScale"].includes(t)&&this[t]&&this.gradeScale.length>0&&(clearTimeout(this.__debounce),this.__debounce=setTimeout(()=>{this.letter=this.calculateLetterGrade()},0))})}calculateLetterGrade(){let e=this.score/this.total*100;if(this.gradeScale[0]&&e>=this.gradeScale[0].highRange)return this._letterIndex=0,this.gradeScale[0].letter;for(var t in this.gradeScale){let r=this.gradeScale[t];if(e<=r.highRange&&e>=r.lowRange)return this._letterIndex=t,this.gradeScale[t].letter}return this._letterIndex=this.gradeScale.length-1,this.gradeScale[this.gradeScale.length-1].letter}}customElements.define(LetterGrade.tag,LetterGrade);export{LetterGrade};