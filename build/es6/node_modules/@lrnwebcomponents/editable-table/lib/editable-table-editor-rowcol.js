/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{LitElement as e,html as t,css as o}from"../../../lit-element/lit-element.js";import{cellBehaviors as i,editableTableCellStyles as n}from"./editable-table-behaviors.js";import{A11yMenuButton as s}from"../../a11y-menu-button/a11y-menu-button.js";import"../../simple-icon/lib/simple-icon-lite.js";import"../../simple-icon/lib/simple-icons.js";import"../../hax-iconset/lib/simple-hax-iconset.js";class EditableTableEditorRowcol extends(i(s)){static get styles(){return[...super.styles||[],...n,o`
        :host {
          display: block;
          --paper-item-min-height: 24px;
          --a11y-menu-button-border: none;
          --a11y-menu-button-list-border: 1px solid
            var(--editable-table-border-color, #999);
          --a11y-menu-button-vertical-padding: var(
            --editable-table-cell-vertical-padding,
            10px
          );
          --a11y-menu-button-horizontal-padding: var(
            --editable-table-cell-horizontal-padding,
            6px
          );
          --a11y-menu-button-item-focus-bg-color: var(
            --editable-table-heading-bg-color,
            #e8e8e8
          );
          --a11y-menu-button-list-bg-color: var(
            --editable-table-bg-color,
            #fff
          );
        }
        ul,
        absolute-position-behavior {
          width: 100%;
        }
        absolute-position-behavior.row,
        absolute-position-behavior.row ul {
          width: 150px;
        }
        a11y-menu-button-item {
          font-family: var(
            --editable-table-secondary-font-family,
            "Roboto",
            "Noto",
            sans-serif
          );
          color: var(--editable-table-color, #222);
          font-size: var(--editable-table-secondary-font-size, 12px);
        }
      `]}render(){return t`
      <button
        id="menubutton"
        aria-haspopup="true"
        aria-controls="menu"
        aria-expanded="${this.expanded?"true":"false"}"
      >
        <span class="sr-only">${this.type}</span>
        <span id="label">${this.label||""} </span>
        <span class="sr-only">Menu</span>
        <simple-icon-lite icon="arrow-drop-down"></simple-icon-lite>
      </button>
      <absolute-position-behavior
        ?auto="${this.expanded}"
        class="${this.row?"row":"column"}"
        for="menubutton"
        position="${this.row?"right":"bottom"}"
        position-align="${this.row?"start":"center"}"
        offset="-3"
      >
        <ul
          id="menu"
          role="menu"
          aria-labelledby="menubutton"
          ?hidden="${!this.expanded}"
          @mousover="${e=>this.hover=!0}"
          @mousout="${e=>this.hover=!1}"
        >
          ${this._getItem()} ${this._getItem(!1,!0)}
          ${this._getItem(!0)}
        </ul>
      </absolute-position-behavior>
    `}static get tag(){return"editable-table-editor-rowcol"}static get properties(){return{...super.properties,index:{type:Number},row:{type:Boolean}}}get controls(){return this.row?`cell-0-${this.index}`:`cell-${this.index}-0`}get label(){return this.row?this._getLabel(this.index,!0):this._getLabel(this.index,!1)}get labelInfo(){return t`<span class="sr-only">${this.label}</span>`}get type(){return this.row?"Row":"Column"}rowColAction(e=this.index,t=!0){this.dispatchEvent(new CustomEvent("rowcol-action",{bubbles:!0,cancelable:!0,composed:!0,detail:{insert:t,row:this.row,index:e}}))}_getItem(e=!1,o=!1){return t` <a11y-menu-button-item
      @click="${e?this._onDelete:o?this._onInsertAfter:this._onInsertBefore}"
    >
      ${e?"Delete":"Insert"}
      ${this.type}${e?" ":o?" After ":" Before "}
      ${this.labelInfo}
    </a11y-menu-button-item>`}_onDelete(e){this.rowColAction(this.index,!1)}_onInsertBefore(e){this.rowColAction(this.row?this.index-1:this.index)}_onInsertAfter(e){this.rowColAction(this.row?this.index:this.index+1)}}window.customElements.define(EditableTableEditorRowcol.tag,EditableTableEditorRowcol);export{EditableTableEditorRowcol};