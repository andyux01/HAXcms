import{LitElement as e,html as t,css as i}from"../../../lit-element/lit-element.js";import{autorun as s,toJS as n}from"../../../mobx/dist/mobx.esm.js";import{store as r}from"../../haxcms-elements/lib/core/haxcms-site-store.js";import"../../simple-icon/lib/simple-icon-lite.js";import"../../simple-icon/lib/simple-icons.js";class BootstrapMenu extends e{constructor(){super();let e=this.getBasePath(decodeURIComponent(import.meta.url));this._bootstrapPath=e+"bootstrap/dist/css/bootstrap.min.css",this._manifestItems={},s(()=>{let e=n(r.manifest.items);this._manifestItems!==e&&(this._manifestItems=e)})}static get tag(){return"bootstrap-menu"}static get properties(){return{colorTheme:{type:String,reflect:!0,attribute:"color-theme"}}}static get styles(){return[i`
        :host {
          --simple-icon-color: #007bff;
        }

        .bullet {
          --simple-icon-height: 10px;
          --simple-icon-width: 10px;
        }

        .indent-0 {
          padding-left: 0px;
        }
        .indent-1,
        .indent-2 {
          padding-left: 16px;
        }
        .indent-3,
        .indent-4,
        .indent-5,
        .indent-6 {
          padding-left: 32px;
        }

        simple-icon-lite {
          transform: rotate(270deg);
        }
        /* dark theme */
        :host([color-theme="1"]) {
          --simple-icon-color: #999;
        }

        :host([color-theme="1"]) .link {
          color: #999;
        }
      `]}render(){return t`
      <link rel="stylesheet" href="${this._bootstrapPath}" />

      ${this._manifestItems.map(e=>{if(null===e.parent)return t`
            <div class="indent-${e.indent}">
              ${e.children?t`<simple-icon-lite
                    icon="arrow-drop-down"
                  ></simple-icon-lite>`:t`<simple-icon-lite
                    class="bullet"
                    icon="radio-button-unchecked"
                  ></simple-icon-lite>`}
              <a class="link" href="${e.slug}"> ${e.title} </a>
            </div>
            ${e.children?this.renderChildren(e):""}
          `})}
    `}renderChildren(e){return t`
      ${e.children.map(e=>{if(!e.children)return t`
            <div class="indent-${e.indent}">
              <a class="link" href="${e.slug}"> ${e.title} </a>
            </div>
          `;this.renderChildren(e)})}
    `}getBasePath(e){return e.substring(0,e.lastIndexOf("/@lrnwebcomponents/")+1)}}customElements.define(BootstrapMenu.tag,BootstrapMenu);export{BootstrapMenu};